{% extends "base.html" %}
{% load static %}

{% block page_header %}
<!-- Carousel container -->
<div class="carousel-container position-relative">

  <!-- Header on top of carousel -->
  <div class="carousel-header position-absolute w-100 text-center">
    <a href="{% url 'home' %}" class="main-logo-link">
      <h1 id="hero-title"><em>Michelle's_Craft_Room</em></h1>
    </a>
  </div>

  <!-- Carousel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>

    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100 carousel-img" src="{% static 'images_project_5/hero.JPG' %}" alt="First slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100 carousel-img" src="{% static 'images_project_5/blue_feather.JPG' %}"
          alt="Second slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100 carousel-img" src="{% static 'images_project_5/blue_autumn_leaves.JPG' %}"
          alt="Third slide">
      </div>
    </div>

    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

</div>

{% endblock %}

{% block content %}
<div class="overlay"></div>
<div class="container h-100">
  <div class="row h-100 align-items-center">

    <!-- LEFT: TEXT -->
    <div class="col-6 d-flex flex-column justify-content-center">
      <h1 class="display-4 sub-header">
        The_new_collection_is_in!
      </h1>
      <div class="my-5">
        <h4>
          <a href="{% url 'products' %}" class="btn btn-lg btn-black rounded-0 text-uppercase py-3">Shop Now</a>
        </h4>
      </div>
    </div>

    <!-- RIGHT: IMAGE -->
    <div class="col-6 text-center">
      <img class="img-fluid carousel-img" src="{% static 'images_project_5/mordern_green_tree.png' %}"
        alt="Second slide">
    </div>

  </div>
</div>
<div class="container-fluid">

  <!-- TITLE ROW -->
  <div class="row">
    <div class="col text-center">
      <h2 class="logo-font">Products</h2>
      <hr class="w-50 mx-auto">
    </div>
  </div>

  <!-- PRODUCT GRID -->
  <div class="row">
    <div class="col-10 offset-1">
      <div class="row mt-4">

        {% for product in products %}
        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-4">

          <div class="card h-100">

            {% if product.image %}
            <img class="card-img-top" src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
            <img class="card-img-top" src="{{ MEDIA_URL }}noimage.png" alt="{{ product.name }}">
            {% endif %}

            <div class="card-body">
              <p class="card-title mb-0">{{ product.name }}</p>
            </div>

            <div class="card-footer bg-white">
              <div class="row">
                <div class="col">
                  <p class="mb-0"><strong>£{{ product.price }}</strong></p>
                  {% if product.rating %}
                  <small class="text-muted">Rating: {{ product.rating }}</small>
                  {% endif %}
                </div>
              </div>
            </div>

          </div>

        </div>

        <!-- EXTRA SMALL — every product -->
        {% if forloop.counter|divisibleby:1 %}
        <div class="col-12 d-sm-none mb-4">
          <hr>
        </div>
        {% endif %}

        <!-- SMALL + MEDIUM — every 2 products -->
        {% if forloop.counter|divisibleby:2 %}
        <div class="col-12 d-none d-sm-block d-md-block d-lg-none mb-4">
          <hr>
        </div>
        {% endif %}

        <!-- LARGE — every 3 products -->
        {% if forloop.counter|divisibleby:3 %}
        <div class="col-12 d-none d-lg-block d-xl-none mb-4">
          <hr>
        </div>
        {% endif %}

        <!-- EXTRA LARGE — every 4 products -->
        {% if forloop.counter|divisibleby:4 %}
        <div class="col-12 d-none d-xl-block mb-4">
          <hr>
        </div>
        {% endif %}

        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% endblock %}